## 1 获取社交网络数据的途径

- 电子邮件
- 用户注册信息
- 用户的位置数据
- 论坛和讨论组
- 即时聊天工具
- 社交网站

## 2 社交网络数据简介

社交网络定义了用户之间的联系，因此可以用图定义社交网络。我们用图G(V,E,w)定义一个社交网络，其中V是顶点集合，每个顶点代表一个用户， E是边集合，如果用户v~a~和v~b~有社交网络关系，那么就有一条边 e（v~a~，v~b~）连接这两个用户，而 w(v~a~, v~b~) 定义了边的权重。 

对图G中的用户顶点u，定义out(u)为顶点u指向的顶点集合（如果套用微博中的术语，out(u)就是用户u关注的用户集合），定义in(u)为指向顶点u的顶点集合（也就是关注用户u的用户集合）。 

用户的入度反映了用户的社会影响力，出度代表了一个用户关注的用户数。它们都服从长尾分布。

## 3 基于社交网络的推荐

社会化推荐有如下优点：

1. 好友推荐可以增强推荐的信任度
2. 社交网络可以解决冷启动问题

### 3.1 基于领域的社会化推荐算法

如果给定一个社交网络和一份用户行为数据集。其中社交网络定义了用户之间的好友关系，而用户行为数据集定义了不同用户的历史行为和兴趣数据。那么我们想到的最简单算法是给用户推荐好友喜欢的物品集合。即用户u对物品i的兴趣pui可以通过如下公式计算。 

![1561168534275](D:\笔记\推荐系统\06-利用社交网络数据.assets\1561168534275.png)

其中out(u)是用户u的好友集合，如果用户v喜欢物品i，则rvi=1，否则rvi=0。不过，即使都是用户u的好友，不同的好友和用户u的熟悉程度和兴趣相似度也是不同的。因此，我们应该在推荐算法中考虑好友和用户的熟悉程度以及兴趣相似度： 

![1561168638109](D:\笔记\推荐系统\06-利用社交网络数据.assets\1561168638109.png)

w 由两部分相似度构成，一部分是用户u和用户v的熟悉程度，另一部分是用户u和用户v的兴趣相似度。用户u和用户v的熟悉程度（familiarity）描述了用户u和用户v在现实社会中的熟悉程度。熟悉度可以用用户之间的共同好友比例来度量。也就是说如果用户u和用户v很熟悉，那么一般来说他们应该有很多共同的好友。 

![1561168680960](D:\笔记\推荐系统\06-利用社交网络数据.assets\1561168680960.png)

除了熟悉程度，还需要考虑用户之间的兴趣相似度。兴趣相似度可以通过和UserCF类似的方法度量，即如果两个用户喜欢的物品集合重合度很高，两个用户的兴趣相似度很高。  

![1561168727385](D:\笔记\推荐系统\06-利用社交网络数据.assets\1561168727385.png)

N(u)是用户u喜欢的物品集合。 

### 3.2 基于图的社会化推荐算法

举个例子：

![1561169125956](D:\笔记\推荐系统\06-利用社交网络数据.assets\1561169125956.png)

该图上有用户顶点（圆圈）和物品顶点（方块）两种顶点。如果用户u对物品i产生过行为，那么两个节点之间就有边相连。比如该图中用户A对物品a、 e产生过行为。如果用户u和用户v是好友，那么也会有一条边连接这两个用户，比如该图中用户A就和用户B、 D是好友。 

在定义完图中的顶点和边后，需要定义边的权重。其中用户和用户之间边的权重可以定义为用户之间相似度的$\alpha$倍（包括熟悉程度和兴趣相似度），而用户和物品之间的权重可以定义为用户对物品喜欢程度的$\beta$倍。 $\alpha$和$\beta$需要根据应用的需求确定。如果我们希望用户好友的行为对推荐结果产生比较大的影响，那么就可以选择比较大的$\alpha$ 。

### 3.3 实际系统中的社会化推荐算法

基于邻域的社会化推荐算法看起来非常简单，但在实际系统中却是很难操作的，这主要是因为该算法需要拿到用户所有好友的历史行为数据， 如果一个算法再给一个用户做推荐时，需要他所有好友的历史行为数据，这在实际环境中是比较困难的。

我们可以从几个方面改进基于邻域的社会化推荐算法：

1. 一种是治标不治本的方法。简单地说，就是可以做两处截断。第一处截断就是在拿用户好友集合时并不拿出用户所有的好友，而是只拿出和用户相似度最高的N个好友。
2. 重新设计数据库。